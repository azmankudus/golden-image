# Text mode installation
text

# System language
lang en_US.UTF-8

# Keyboard layout
keyboard us

# Timezone (Kuala Lumpur)
timezone Asia/Kuala_Lumpur --utc

# Network configuration
network --onboot=yes --device=* --bootproto=dhcp

# Root password
rootpw --plaintext abcd1234

# Hostname
network --hostname=almalinux

# Installation source (cdrom or local media)
cdrom

# Disk partitioning
zerombr
clearpart --all --initlabel
part /boot --size=1024 --fstype=ext4 --ondisk=nvme0n1
part pv.0 --size=1 --grow --ondisk=nvme0n1
volgroup vg_root pv.0
logvol / --size=1 --grow --fstype=ext4 --name=lv_root --vgname=vg_root
logvol swap --size=4096 --fstype=swap --name=lv_swap --vgname=vg_root

# System bootloader configuration
bootloader --location=mbr --boot-drive=nvme0n1

# Add additional user
user --name=admin --password=abcd1234 --plaintext --groups=wheel --shell=/bin/bash

# Enable kdump
%addon com_redhat_kdump --enable --reserve-mb=auto
%end

# Firewall configuration (allow SSH)
firewall --enabled --service=ssh

# Package selection (GNOME Desktop)
%packages
@^minimal-environment
%end

# Reboot the system after installation
reboot
